<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>New brew — brew • ipa</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="New brew — brew" />
<meta property="og:description" content="brew() is the first function in the ipa workflow ." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ipa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/getting_started.html">Getting started with `ipa`</a>
    </li>
    <li>
      <a href="../articles/scoring_imputes.html">scoring_imputes</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>New brew</h1>
    
    <div class="hidden name"><code>brew.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>brew()</code> is the first function in the <code>ipa</code> workflow .</p>
    </div>

    <pre class="usage"><span class='fu'>brew</span>(<span class='no'>data</span>, <span class='no'>outcome</span>, <span class='no'>flavor</span>, <span class='kw'>bind_miss</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>brew_nbrs</span>(<span class='no'>data</span>, <span class='no'>outcome</span>, <span class='kw'>bind_miss</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>brew_soft</span>(<span class='no'>data</span>, <span class='no'>outcome</span>, <span class='kw'>bind_miss</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>a data frame with missing values.</p></td>
    </tr>
    <tr>
      <th>outcome</th>
      <td><p>column name(s) of outcomes. These values can be
provided as symbols (e.g., outcome = c(a,b,c) for multiple outcomes
or outcome = a for one outcome) or character values (e.g., outcome =
c('a','b','c') for multiple outcomes or outcome = 'a' for a single
outcome).</p></td>
    </tr>
    <tr>
      <th>flavor</th>
      <td><p>the computational approach that will be used to
impute missing data. Valid options are 'kneighbors' and 'softImpute'.
These values should be input as characters (e.g., 'kneighbors').</p></td>
    </tr>
    <tr>
      <th>bind_miss</th>
      <td><p>(<code>TRUE</code> / <code>FALSE</code>). If <code>TRUE</code>, a set of additional
indicator columns (one for each non-outcome column) are added
to <code>data</code>. The indicator columns take values of 0 and 1, with
0 indicating that this variable is not missing for this row
and 1 indicating that this variable is missing for this row.
If <code>FALSE</code>, no additional columns are added to <code>data</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an <code>ipa_brew</code> object with your specified <code>flavor</code></p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Brewing a great beer is not that different from imputing
missing data. Once a brew is started, you can add spices
(set primary parameters; see <a href='spice.html'>spice</a>) and then mash the mixture
(fitting imputation models; see <a href='mash.html'>mash</a>). To finish the brew, add
yeast (new data; see <a href='ferment.html'>ferment</a>), and then bottle it up (see
<a href='bottle.html'>bottle</a>) as a <code>tibble</code> or <code>matrix</code>.</p>
<p><code>brew()</code> includes an input variable called <code>flavor</code> that determines
how data will be imputed.  <code>brew_nbrs()</code> and <code>brew_soft()</code> are
convenience functions, e.g. <code>brew_nbrs()</code> is a
shortcut for calling <code>brew(flavor = 'kneighbors')</code>.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Gower (1971) originally defined a similarity measure (s, say) with
values ranging from 0 (completely dissimilar) to 1 (completely similar).
The distance returned here equals 1-s.</p>
    <h2 class="hasAnchor" id="neighbor-s-brew"><a class="anchor" href="#neighbor-s-brew"></a><strong>Neighbor's brew</strong></h2>

    <p>an adaptation of Max Kuhn's
nearest neighbor imputation functions in the <a href='https://rdrr.io/pkg/recipes/man/recipes.html'>recipes</a>
and <code>caret</code> packages. It also uses the <a href='https://rdrr.io/pkg/gower/man/gower_topn.html'>gower</a>
package to implement algorithms that compute Gower's distance.</p>
<p>What makes this type of nearest neighbor imputation
different is its flexibility in the number of neighbors used
to impute missing values and the aggregation function applied.
For example, to create 10 imputed datasets that use 1, 2, ..., 10
neighbors to impute missing values would require fitting
10 separate nearest neighbors models using conventional functions.
The <code>ipa</code> package lets a user create all of these imputed sets
with just one fitting of a nearest neighbor model. Additionally,
for users who want to use nearest neighbors for multiple imputation,
<code>ipa</code> gives the option to sample 1 neighbor value at random from
a neighborhood, rather than aggregate values into a summary.</p>
    <h2 class="hasAnchor" id="soft-brew"><a class="anchor" href="#soft-brew"></a><strong>Soft brew</strong></h2>

    <p>The <code>softImpute</code> algorithm is used to impute
missing values with this <code>brew</code>. For more details on this strategy
to handle missing values, please see
<a href='https://rdrr.io/pkg/softImpute/man/softImpute.html'>softImpute</a>.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Gower, John C. "A general coefficient of similarity
and some of its properties." Biometrics (1971): 857-871.</p>
<p>Rahul Mazumder, Trevor Hastie and Rob Tibshirani (2010)
Spectral Regularization Algorithms for Learning Large Incomplete
Matrices, http://www.stanford.edu/~hastie/Papers/mazumder10a.pdf
<em>Journal of Machine Learning Research</em> 11 (2010) 2287-2322</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>data</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(
  <span class='kw'>x1</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>10</span>,
  <span class='kw'>x2</span> <span class='kw'>=</span> <span class='fl'>10</span>:<span class='fl'>1</span>,
  <span class='kw'>x3</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>10</span>,
  <span class='kw'>outcome</span> <span class='kw'>=</span> <span class='fl'>11</span> + <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span>(<span class='fl'>10</span>)
)

<span class='no'>data</span>[<span class='fl'>1</span>:<span class='fl'>2</span>, <span class='fl'>1</span>:<span class='fl'>2</span>] <span class='kw'>=</span> <span class='fl'>NA</span>

<span class='no'>knn_brew</span> <span class='kw'>&lt;-</span> <span class='fu'>brew</span>(<span class='no'>data</span>, <span class='kw'>outcome</span> <span class='kw'>=</span> <span class='no'>outcome</span>, <span class='kw'>flavor</span> <span class='kw'>=</span> <span class='st'>'kneighbors'</span>)
<span class='no'>sft_brew</span> <span class='kw'>&lt;-</span> <span class='fu'>brew</span>(<span class='no'>data</span>, <span class='kw'>outcome</span> <span class='kw'>=</span> <span class='no'>outcome</span>, <span class='kw'>flavor</span> <span class='kw'>=</span> <span class='st'>'softImpute'</span>)

<span class='no'>knn_brew</span> <span class='kw'>&lt;-</span> <span class='fu'>brew_nbrs</span>(<span class='no'>data</span>, <span class='kw'>outcome</span> <span class='kw'>=</span> <span class='no'>outcome</span>)
<span class='no'>sft_brew</span> <span class='kw'>&lt;-</span> <span class='fu'>brew_soft</span>(<span class='no'>data</span>, <span class='kw'>outcome</span> <span class='kw'>=</span> <span class='no'>outcome</span>)

<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>knn_brew</span>)</div><div class='output co'>#&gt; A brew to handle missing data using k-nearest-neighbors. 
#&gt; Data used for imputation (outcomes are wittheld): 
#&gt;        x1    x2    x3
#&gt;     &lt;int&gt; &lt;int&gt; &lt;int&gt;
#&gt;  1:    NA    NA     1
#&gt;  2:    NA    NA     2
#&gt;  3:     3     8     3
#&gt;  4:     4     7     4
#&gt;  5:     5     6     5
#&gt;  6:     6     5     6
#&gt;  7:     7     4     7
#&gt;  8:     8     3     8
#&gt;  9:     9     2     9
#&gt; 10:    10     1    10</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#note">Note</a></li>
      <li><a href="#neighbor-s-brew"><strong>Neighbor's brew</strong></a></li>
      <li><a href="#soft-brew"><strong>Soft brew</strong></a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Byron Jaeger.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


