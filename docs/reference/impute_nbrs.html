<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Nearest neighbor imputation — impute_nbrs • ipa</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Nearest neighbor imputation — impute_nbrs" />
<meta property="og:description" content="This function conducts nearest neighbor imputation with the added option
of using a sequence of neighbor values instead of picking one. One
imputed dataset is created for each value of nearest neighbors
(k)." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ipa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/getting_started.html">Getting started with `ipa`</a>
    </li>
    <li>
      <a href="../articles/scoring_imputes.html">scoring_imputes</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Nearest neighbor imputation</h1>
    
    <div class="hidden name"><code>impute_nbrs.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function conducts nearest neighbor imputation with the added option
of using a sequence of neighbor values instead of picking one. One
imputed dataset is created for each value of nearest neighbors
(<code>k</code>).</p>
    </div>

    <pre class="usage"><span class='fu'>impute_nbrs</span>(
  <span class='no'>data_ref</span>,
  <span class='kw'>data_new</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>cols</span> <span class='kw'>=</span> <span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/reexports.html'>everything</a></span>(),
  <span class='kw'>k_neighbors</span> <span class='kw'>=</span> <span class='fl'>10</span>,
  <span class='kw'>aggregate</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>fun_aggr_ctns</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>fun_aggr_intg</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>fun_aggr_catg</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>nthread</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"gd_num_thread"</span>),
  <span class='kw'>epsilon</span> <span class='kw'>=</span> <span class='fl'>1e-08</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data_ref</th>
      <td><p>a data frame.</p></td>
    </tr>
    <tr>
      <th>data_new</th>
      <td><p>an optional data frame. If supplied, then <code>data_ref</code>
will be used as a reference dataset for <code>data_new</code> and the output
will contain imputed values for <code>data_new</code>. If not supplied,
the output will contain imputed values for <code>data_ref</code>.</p></td>
    </tr>
    <tr>
      <th>cols</th>
      <td><p>columns that should be imputed and/or used to impute other
columns. Supports tidy select functions (see examples).</p></td>
    </tr>
    <tr>
      <th>k_neighbors</th>
      <td><p>a numeric vector indicating how many neighbors should
be used to impute missing values.</p></td>
    </tr>
    <tr>
      <th>aggregate</th>
      <td><p>a logical value. If <code>TRUE</code>, then neighbors
will be aggregated to generate imputations. If <code>FALSE</code>, then one
neighbor will be sampled at random to generate a missing value. Using
<code>aggregate = FALSE</code> can be helpful if you are conducting
multiple imputation.</p></td>
    </tr>
    <tr>
      <th>fun_aggr_ctns</th>
      <td><p>a function used to aggregate neighbors for continuous
variables. If unspecified, the <code><a href='https://rdrr.io/r/base/mean.html'>mean()</a></code> function is used.</p></td>
    </tr>
    <tr>
      <th>fun_aggr_intg</th>
      <td><p>a function used to aggregate neighbors for integer
values variables. If unspecified, the <code><a href='mode_est.html'>medn_est()</a></code> function is used.
This function returns the median of neighbor values, rounded to the
nearest integer. <code><a href='mode_est.html'>medn_est_conserve()</a></code> goes one step further and
identifies which neighbor value is closest to the median, and returns
that value. Both of these options can be helpful for integer valued
columns if you want to make sure the imputed values do not contain
impossible quantities, e.g. no. of children = 3/4.</p></td>
    </tr>
    <tr>
      <th>fun_aggr_catg</th>
      <td><p>a function used to aggregate neighbors for categorical
variables. If unspecified, the <code><a href='mode_est.html'>mode_est()</a></code> function is used.</p></td>
    </tr>
    <tr>
      <th>nthread</th>
      <td><p>Number of threads to use for parallelization. By default,
for a dual-core machine, 2 threads are used. For any other machine n-1
cores are used so your machine doesn't freeze during a big computation.
The maximum nr of threads are determined using omp_get_max_threads
at C level.</p></td>
    </tr>
    <tr>
      <th>epsilon</th>
      <td><p>Computed numbers (variable ranges) smaller than eps are
treated as zero</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical value. If <code>TRUE</code>, output is printed on the
console. If <code>FALSE</code>, nothing is printed.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a list of imputed datasets the same length as <code>k_neighbors</code>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>diabetes</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>'ipa'</span>)

<span class='no'>trn</span> <span class='kw'>&lt;-</span> <span class='no'>diabetes</span>$<span class='no'>missing</span>[<span class='fl'>1</span>:<span class='fl'>25</span>, ]
<span class='no'>tst</span> <span class='kw'>&lt;-</span> <span class='no'>diabetes</span>$<span class='no'>missing</span>[<span class='fl'>26</span>:<span class='fl'>50</span>, ]

<span class='no'>trn_imputes</span> <span class='kw'>&lt;-</span> <span class='fu'>impute_nbrs</span>(<span class='kw'>data_ref</span> <span class='kw'>=</span> <span class='no'>trn</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>5</span>)
<span class='no'>tst_imputes</span> <span class='kw'>&lt;-</span> <span class='fu'>impute_nbrs</span>(<span class='kw'>data_ref</span> <span class='kw'>=</span> <span class='no'>trn</span>, <span class='kw'>data_new</span> <span class='kw'>=</span> <span class='no'>tst</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>5</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Byron Jaeger.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


